function getGreenToRed(t){return g=50>t?255:Math.floor(255-255*(2*t-100)/100),r=t>50?255:Math.floor(2*t*255/100),"rgb("+r+","+g+",0)"}var render_bar_charts=function(){$(".chart").each(function(t,r){var e=$(r),a=[parseInt(e.data("dataHours"))],o=[parseInt(e.data("dataHoursUsed"))],n=parseFloat(e.data("bar-width"))||15,s=parseFloat(e.data("bar-space"))||.5,c=e.outerHeight(),l=d3.scale.linear().domain([0,a]).range([0,150]);d3.scale.linear().domain([0,c]).range([0,a]);d3.select(r).append("g").selectAll(".bar-hours").data(a).enter().append("rect").attr("class","bar-hours").attr("width",n).attr("x",function(t,r){return n*r+s*r}).attr("y",c).attr("height",c).attr("y",0),d3.select(r).selectAll("g").selectAll(".bar-used").data(o).enter().append("rect").attr("class","bar-used").attr("width",n).attr("x",function(t,r){return n*r+s*r}).attr("y",c).attr("height",0).transition().delay(function(t,r){return 100*r}).attr("y",function(t,r){return c-l(t)}).attr("height",function(t){return l(t)}).attr("fill",function(t,r){return getGreenToRed(t/a[r]*100)})})},pressurizeApp=angular.module("pressurizeApp",["ngRoute"]).service("sharedProperties",function(){var t=null!==localStorage.getItem("projects")?JSON.parse(localStorage.getItem("projects")):[];return{getProjects:function(){return t},setProjects:function(r){t.push(r);var e=JSON.stringify(t,function(t,r){return"$$hashKey"==t?void 0:r});localStorage.setItem("projects",e)}}});pressurizeApp.config(["$routeProvider",function(t){t.when("/projects/",{templateUrl:"partials/projects-list.html",controller:"ProjectsListController"}).when("/projects/create/",{templateUrl:"partials/projects-create.html",controller:"ProjectCreateController"}).otherwise({redirectTo:"/projects"})}]),pressurizeApp.controller("ProjectsListController",["$scope","$http","sharedProperties",function(t,r,e){t.projects=e.getProjects(),t.renderBarCharts=function(){var t=setInterval(function(){$(".chart").length>0&&(render_bar_charts(),clearInterval(t))},1e3)},t.renderBarCharts()}]),pressurizeApp.controller("ProjectCreateController",["$scope","$http","sharedProperties",function(t,r,e){t.project=[],t.submitForm=function(r){r||alert("please fill out all fields correctly"),e.setProjects({name:t.project.name,description:t.project.description,dev_hours:t.project.dev_hours,total_used:t.project.total_used}),alert("project created!"),window.location="/#/projects"}}]);